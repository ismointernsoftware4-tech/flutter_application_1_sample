/// Flat list of all permissions used in the system.
const List<String> kAllPermissions = [
  'PR_CREATE',
  'PR_VIEW',
  'PR_APPROVE',
  'PR_EDIT',
  'PR_DELETE',
  'PR_EXPORT',
  'PO_CREATE',
  'PO_APPROVE',
  'PO_VIEW',
  'PO_EDIT',
  'PO_DELETE',
  'PO_EXPORT',
  'VENDOR_CREATE',
  'VENDOR_EDIT',
  'VENDOR_DELETE',
  'VENDOR_EXPORT',
  'VENDOR_VIEW',
  'GRN_CREATE',
  'GRN_EDIT',
  'GRN_DELETE',
  'GRN_EXPORT',
  'GRN_VIEW',
  'GRN_APPROVE',
  'ADJUSTMENT_CREATE',
  'ADJUSTMENT_EDIT',
  'ADJUSTMENT_DELETE',
  'ADJUSTMENT_EXPORT',
  'ADJUSTMENT_VIEW',
  'INTER_BRANCH_TRANSFER_CREATE',
  'INTER_BRANCH_TRANSFER_EDIT',
  'INTER_BRANCH_TRANSFER_DELETE',
  'INTER_BRANCH_TRANSFER_EXPORT',
  'INTER_BRANCH_TRANSFER_VIEW',
  'INTER_BRANCH_TRANSFER_APPROVE',
  'INTERNAL_STOCK_TRANSFER_CREATE',
  'INTERNAL_STOCK_TRANSFER_EDIT',
  'INTERNAL_STOCK_TRANSFER_DELETE',
  'INTERNAL_STOCK_TRANSFER_EXPORT',
  'INTERNAL_STOCK_TRANSFER_VIEW',
  'INTERNAL_STOCK_TRANSFER_APPROVE',
  'RETURN_STOCK_TO_VENDOR_CREATE',
  'RETURN_STOCK_TO_VENDOR_EDIT',
  'RETURN_STOCK_TO_VENDOR_DELETE',
  'RETURN_STOCK_TO_VENDOR_EXPORT',
  'RETURN_STOCK_TO_VENDOR_VIEW',
  'RETURN_STOCK_TO_VENDOR_APPROVE',
  'QC',
  'PUTAWAY',
  'PICKLIST',
  'ITEM_MASTER',
  'STORE_LOCATIONS',
  'STORE_LOCATIONS_EDIT',
  'STORE_LOCATIONS_DELETE',
  'STORE_LOCATIONS_EXPORT',
  'STORE_LOCATIONS_VIEW',
  'STORE_LOCATIONS_VIEW_MAP',
  'MANAGE_USERS_CREATE',
  'MANAGE_BRANCH_USERS_CREATE',
  'MANAGE_BRANCH_USERS_EDIT',
  'MANAGE_BRANCH_USERS_DELETE',
  'MANAGE_BRANCH_USERS_EXPORT',
  'MANAGE_BRANCH_USERS_VIEW',
  'MANAGE_BRANCH_USERS_APPROVE',
  'MANAGE_BRANCH_USERS_VIEW_MAP',
  'REPORTS',
  'DASHBOARD_ACCESS',
];

/// Permissions grouped for UI display.
const Map<String, List<String>> kPermissionGroups = {
  'Procurement': [
    'PR_CREATE',
    'PR_VIEW',
    'PR_APPROVE',
    'PR_EDIT',
    'PR_DELETE',
    'PR_EXPORT',
    'PO_CREATE',
    'PO_APPROVE',
    'PO_VIEW',
    'PO_EDIT',
    'PO_DELETE',
    'PO_EXPORT',
    'VENDOR_CREATE',
    'VENDOR_EDIT',
    'VENDOR_DELETE',
    'VENDOR_EXPORT',
    'VENDOR_VIEW',
    'GRN_CREATE',
    'GRN_EDIT',
    'GRN_DELETE',
    'GRN_EXPORT',
    'GRN_VIEW',
    'GRN_APPROVE',
  ],
  'Inventory Operations': [
    'QC',
    'PUTAWAY',
    'PICKLIST',
    'ADJUSTMENT_CREATE',
    'ADJUSTMENT_EDIT',
    'ADJUSTMENT_DELETE',
    'ADJUSTMENT_EXPORT',
    'ADJUSTMENT_VIEW',
    'INTER_BRANCH_TRANSFER_CREATE',
    'INTER_BRANCH_TRANSFER_EDIT',
    'INTER_BRANCH_TRANSFER_DELETE',
    'INTER_BRANCH_TRANSFER_EXPORT',
    'INTER_BRANCH_TRANSFER_VIEW',
    'INTER_BRANCH_TRANSFER_APPROVE',
    'INTERNAL_STOCK_TRANSFER_CREATE',
    'INTERNAL_STOCK_TRANSFER_EDIT',
    'INTERNAL_STOCK_TRANSFER_DELETE',
    'INTERNAL_STOCK_TRANSFER_EXPORT',
    'INTERNAL_STOCK_TRANSFER_VIEW',
    'INTERNAL_STOCK_TRANSFER_APPROVE',
    'RETURN_STOCK_TO_VENDOR_CREATE',
    'RETURN_STOCK_TO_VENDOR_EDIT',
    'RETURN_STOCK_TO_VENDOR_DELETE',
    'RETURN_STOCK_TO_VENDOR_EXPORT',
    'RETURN_STOCK_TO_VENDOR_VIEW',
    'RETURN_STOCK_TO_VENDOR_APPROVE',
  ],
  'Item & Location Management': [
    'ITEM_MASTER',
    'STORE_LOCATIONS',
    'STORE_LOCATIONS_EDIT',
    'STORE_LOCATIONS_DELETE',
    'STORE_LOCATIONS_EXPORT',
    'STORE_LOCATIONS_VIEW',
    'STORE_LOCATIONS_VIEW_MAP',
  ],
  'Admin': [
    'MANAGE_USERS_CREATE',
    'MANAGE_BRANCH_USERS_CREATE',
    'MANAGE_BRANCH_USERS_EDIT',
    'MANAGE_BRANCH_USERS_DELETE',
    'MANAGE_BRANCH_USERS_EXPORT',
    'MANAGE_BRANCH_USERS_VIEW',
    'MANAGE_BRANCH_USERS_APPROVE',
    'MANAGE_BRANCH_USERS_VIEW_MAP',
  ],
  'Reports & Dashboard': [
    'REPORTS',
    'DASHBOARD_ACCESS',
  ],
};

/// Recommended permissions for Clinic Admin (Full Access).
const Set<String> kClinicAdminRecommended = {
  // Procurement - Full Access
  'PR_CREATE',
  'PR_VIEW',
  'PR_APPROVE',
  'PR_EDIT',
  'PR_DELETE',
  'PR_EXPORT',
  'PO_CREATE',
  'PO_APPROVE',
  'PO_VIEW',
  'PO_EDIT',
  'PO_DELETE',
  'PO_EXPORT',
  'VENDOR_CREATE',
  'VENDOR_EDIT',
  'VENDOR_DELETE',
  'VENDOR_EXPORT',
  'VENDOR_VIEW',
  'GRN_CREATE',
  'GRN_EDIT',
  'GRN_DELETE',
  'GRN_EXPORT',
  'GRN_VIEW',
  'GRN_APPROVE',
  // Inventory Operations - Full Access
  'QC',
  'PUTAWAY',
  'PICKLIST',
  'ADJUSTMENT_CREATE',
  'ADJUSTMENT_EDIT',
  'ADJUSTMENT_DELETE',
  'ADJUSTMENT_EXPORT',
  'ADJUSTMENT_VIEW',
  'INTER_BRANCH_TRANSFER_CREATE',
  'INTER_BRANCH_TRANSFER_EDIT',
  'INTER_BRANCH_TRANSFER_DELETE',
  'INTER_BRANCH_TRANSFER_EXPORT',
  'INTER_BRANCH_TRANSFER_VIEW',
  'INTER_BRANCH_TRANSFER_APPROVE',
  'INTERNAL_STOCK_TRANSFER_CREATE',
  'INTERNAL_STOCK_TRANSFER_EDIT',
  'INTERNAL_STOCK_TRANSFER_DELETE',
  'INTERNAL_STOCK_TRANSFER_EXPORT',
  'INTERNAL_STOCK_TRANSFER_VIEW',
  'INTERNAL_STOCK_TRANSFER_APPROVE',
  'RETURN_STOCK_TO_VENDOR_CREATE',
  'RETURN_STOCK_TO_VENDOR_EDIT',
  'RETURN_STOCK_TO_VENDOR_DELETE',
  'RETURN_STOCK_TO_VENDOR_EXPORT',
  'RETURN_STOCK_TO_VENDOR_VIEW',
  'RETURN_STOCK_TO_VENDOR_APPROVE',
  // Item & Location Management - Full Access
  'ITEM_MASTER',
  'STORE_LOCATIONS',
  'STORE_LOCATIONS_EDIT',
  'STORE_LOCATIONS_DELETE',
  'STORE_LOCATIONS_EXPORT',
  'STORE_LOCATIONS_VIEW',
  'STORE_LOCATIONS_VIEW_MAP',
  // Admin - Full Access
  'MANAGE_USERS_CREATE',
  'MANAGE_BRANCH_USERS_CREATE',
  'MANAGE_BRANCH_USERS_EDIT',
  'MANAGE_BRANCH_USERS_DELETE',
  'MANAGE_BRANCH_USERS_EXPORT',
  'MANAGE_BRANCH_USERS_VIEW',
  'MANAGE_BRANCH_USERS_APPROVE',
  'MANAGE_BRANCH_USERS_VIEW_MAP',
  // Reports & Dashboard
  'REPORTS',
  'DASHBOARD_ACCESS',
};

/// Recommended permissions for Branch Admin (Limited Admin Access).
const Set<String> kBranchAdminRecommended = {
  // Procurement - View & Create (No Approve/Delete)
  'PR_CREATE',
  'PR_VIEW',
  'PR_EDIT',
  'PR_EXPORT',
  'PO_CREATE',
  'PO_VIEW',
  'PO_EDIT',
  'PO_EXPORT',
  'VENDOR_VIEW',
  'GRN_CREATE',
  'GRN_VIEW',
  'GRN_EDIT',
  'GRN_EXPORT',
  // Inventory Operations - Full Access
  'QC',
  'PUTAWAY',
  'PICKLIST',
  'ADJUSTMENT_CREATE',
  'ADJUSTMENT_EDIT',
  'ADJUSTMENT_DELETE',
  'ADJUSTMENT_EXPORT',
  'ADJUSTMENT_VIEW',
  'INTER_BRANCH_TRANSFER_CREATE',
  'INTER_BRANCH_TRANSFER_EDIT',
  'INTER_BRANCH_TRANSFER_DELETE',
  'INTER_BRANCH_TRANSFER_EXPORT',
  'INTER_BRANCH_TRANSFER_VIEW',
  'INTERNAL_STOCK_TRANSFER_CREATE',
  'INTERNAL_STOCK_TRANSFER_EDIT',
  'INTERNAL_STOCK_TRANSFER_DELETE',
  'INTERNAL_STOCK_TRANSFER_EXPORT',
  'INTERNAL_STOCK_TRANSFER_VIEW',
  'RETURN_STOCK_TO_VENDOR_CREATE',
  'RETURN_STOCK_TO_VENDOR_EDIT',
  'RETURN_STOCK_TO_VENDOR_DELETE',
  'RETURN_STOCK_TO_VENDOR_EXPORT',
  'RETURN_STOCK_TO_VENDOR_VIEW',
  // Item & Location Management - View & Edit
  'ITEM_MASTER',
  'STORE_LOCATIONS',
  'STORE_LOCATIONS_EDIT',
  'STORE_LOCATIONS_VIEW',
  'STORE_LOCATIONS_VIEW_MAP',
  // Admin - Branch Users Only
  'MANAGE_BRANCH_USERS_CREATE',
  'MANAGE_BRANCH_USERS_EDIT',
  'MANAGE_BRANCH_USERS_VIEW',
  'MANAGE_BRANCH_USERS_EXPORT',
  'MANAGE_BRANCH_USERS_VIEW_MAP',
  // Reports & Dashboard
  'REPORTS',
  'DASHBOARD_ACCESS',
};

/// Recommended permissions for End User (View Only).
const Set<String> kEndUserRecommended = {
  // Procurement - View Only
  'PR_VIEW',
  'PO_VIEW',
  'VENDOR_VIEW',
  'GRN_VIEW',
  // Inventory Operations - View Only
  'ADJUSTMENT_VIEW',
  'INTER_BRANCH_TRANSFER_VIEW',
  'INTERNAL_STOCK_TRANSFER_VIEW',
  'RETURN_STOCK_TO_VENDOR_VIEW',
  // Item & Location Management - View Only
  'ITEM_MASTER',
  'STORE_LOCATIONS_VIEW',
  'STORE_LOCATIONS_VIEW_MAP',
  // Reports & Dashboard
  'REPORTS',
  'DASHBOARD_ACCESS',
};

/// Auto-select permissions based on role name.
/// Returns a set of recommended permissions for the given role name.
Set<String> getRecommendedPermissionsForRole(String roleName) {
  final normalizedRoleName = roleName.trim().toLowerCase();
  
  if (normalizedRoleName.contains('clinic') && normalizedRoleName.contains('admin')) {
    return kClinicAdminRecommended;
  } else if (normalizedRoleName.contains('branch') && normalizedRoleName.contains('admin')) {
    return kBranchAdminRecommended;
  } else if (normalizedRoleName.contains('end user') || normalizedRoleName.contains('enduser')) {
    return kEndUserRecommended;
  }
  
  // Default: return empty set for custom roles
  return <String>{};
}

